% \documentclass{standalone}
\documentclass[border=0.5mm,11pt]{standalone}

% !TeX program = lualatex

\usepackage{../pacchetti-immagini}
\input{../../newcommands}

\begin{document}
	\begin{tikzpicture}
    \foreach \s in {0,0.2,0.4,0.6,0.8}{
        \draw (0,\s) -- (2,\s);
    }
    \foreach \t in {0,0.2,0.4,0.6,0.8,1,1.2,1.4,1.6,1.8,2}{
        \draw (\t,0) -- (\t,0.8);
    }
    \draw[->, thick, color=goldenyellow] (0,0) -- (0,0.8) node[midway, left] {\footnotesize{s}};
    \draw[->, thick, color=fuchsia] (0,0.4) -- (2,0.4);
    \node[below, fuchsia] at (1,0) {\footnotesize{t}};
    \node[above, fuchsia] at (1,0.8) {\gamma};
    \draw[->, ultra thick] (2.2, 0.4) arc (140:40:0.7) node[midway,above] {\zeta};
    % \draw[->,  line width=1pt, looseness=1.7, shorten >= 5pt] (2.2, 0.4) to[out=30, in=150] (3.3,0.4);

    \coordinate (a) at (4.9,-0.7);
	\coordinate (b) at (5.3,0.7);
	\coordinate (c) at (5.3,1.7);
	\coordinate (d) at (3.9,0.7);
    \coordinate (e) at (2.6,-0.8);

    \filldraw[color=turquoise, fill=turquoise!20, looseness=1.8] (a) to[out=130,in=-140] (b) to[out=40,in=-10] (c) to[out=170,in=140] (d) to[out=-40,in=140] (e) to[out=-40,in=-50] (a);

    % \foreach \p in {a,b,c,d,e}{
    %     \filldraw[black] (\p) circle (0.5pt);
    % }
    
    % Buchi sulla varietà
    \draw[turquoise] (2.7,-0.55) arc (-140:-40:0.4);
    \draw[turquoise] (2.8,-0.62) arc (160:17:0.2);

    \fill[white] (2.81,-0.62) arc (-120:-60:0.4);
    \fill[white] (2.81,-0.62) arc (160:17:0.2);

    \draw[turquoise] (4.9,1.28) arc (-140:-40:0.4);
    \draw[turquoise] (5,1.2) arc (160:17:0.2);

    \fill[white] (5,1.2) arc (-120:-60:0.4);
    \fill[white] (5,1.2) arc (160:17:0.2);

    % Curve sulla varietà
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 1
    \draw[black] (4.7, -1.4) to[out=40, in=-50] (4.55, -0.3) to[out=130, in=-150] (5.4, 0.95);
    
    % \filldraw[black] (4.55, -0.3) circle (0.5pt);

    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 2
    \draw[black] (4.5, -1.4) to[out=45, in=-65] (4.4, -0.15) to[out=115, in=-140] (5.06, 0.96);
    
    % \filldraw[black] (4.4, -0.15) circle (0.5pt);

    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 3
    \draw[->, fuchsia, thick] (4.3, -1.4) to[out=70, in=-80] (4.3, -0.1) to[out=110, in=-100] (4.8, 1.1);
    
    % \filldraw[black] (4.3, -0.1) circle (0.5pt);

    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 4
    \draw[black] (4, -1.3) to[out=110, in=-110] (4.14, 0) to[out=70, in=-75] (4.4, 1.3);
    
    % \filldraw[black] (4.14, 0) circle (0.5pt);

    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 5
    \draw[black] (3.6, -1.1) to[out=115, in=-150] (4, 0.07) to[out=30, in=-105] (4.1, 1.2);
    
    % \filldraw[black] (4, 0.07) circle (0.5pt);

    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Linee orizzontali

    \draw[goldenyellow, ->, thick,looseness=1.4] (4.7, -1.4) to[out=188, in=-20] (3.6, -1.1);

    \draw[black, looseness=1.4] (4.83, -1.18) to[out=185, in=-10] (3.52, -0.8);

    \draw[black, looseness=1.37] (4.86, -1.04) to[out=150, in=7] (3.52, -0.68);

    \draw[black, looseness=1.2] (4.83, -0.82) to[out=140, in=15] (3.55, -0.55);

    \draw[black, looseness=1.4] (4.74, -0.57) to[out=145, in=-15] (3.62, -0.35);

    \draw[black, looseness=1.2] (4.54, -0.3) to[out=155, in=0] (3.78, -0.1);

    \draw[black, looseness=1.2] (4.46, 0.04) to[out=185, in=-15] (3.98, 0.05);

    \draw[black, looseness=1.1] (4.54, 0.25) to[out=205, in=-30] (4.16, 0.27);

    \draw[black, looseness=1.1] (4.7, 0.45) to[out=200, in=-10] (4.16, 0.47);

    \draw[black, looseness=1.1] (5.0, 0.69) to[out=200, in=20] (4.10, 0.77);

    \draw[black, looseness=1.4] (5.4, 0.95) to[out=190, in=30] (4.1, 1.2);

    \end{tikzpicture}
\end{document}

	
	
	
	
	



